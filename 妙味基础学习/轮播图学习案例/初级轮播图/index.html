<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" type="text/css" href="../../css/reset.css">
	<style type="text/css">
		img{width: 100%;}
		.main{width: 500px;margin: 0 auto;}
		p{text-align: center;}
		h3{text-align: center;}
		button{margin-left: 95px;width: 100px;height: 50px;border:none;background: #6a5c5c;font-size: 16px;color: #fff;}
		button:active{opacity: .5;}
		.box{position: relative;}
		.box p{position: absolute;width: 100%;top:0;left:0;background: rgba(0,0,0,.5);font-size:24px;color: #fff;line-height: 50px;}
		.box h3{position: absolute;width: 100%;bottom:0;left:0;background:rgba(0,0,0,.5);font-size:24px;color: #fff;line-height: 50px;}
		.box a{position: absolute;width: 50px;height:50px;background:rgba(0,0,0,.5);font-size:40px;color: #fff;line-height: 50px;text-align: center;transform: translate(0,-50%);display: none;background:rgba(0,0,0,.6);top: 50%;}
		.box a:nth-child(4){left:30px;}
		.box a:nth-child(5){right:30px;}
	</style>
	<script type="text/javascript">
		window.onload = function(){
			var Box = document.getElementById('box');
			var Btn = document.getElementsByTagName('button');
			var Sibling_A = Box.getElementsByTagName('a');
			var arry_src = ['2.jpg','3.jpg','4.jpg','5.jpg'];
			var Text_P = ['1/4','2/4','3/4','4/4'];
			var Text_h3 = ['11111111','222222222','33333333333','444444444'];
			var Box_child = Box.childNodes;
			var star = true;
			Btn[0].onclick = function(){star = true;}
			Btn[1].onclick = function(){star = false;}
			Box.onmouseover = function(){btn_showHidden('block')}
			Box.onmouseout = function(){btn_showHidden('none')}
			function childs(){
				for(var i = 0;i<Box_child.length;i++){
					if(Box_child[i].nodeName == '#text'&&/\s/.test(Box_child[i].nodeValue)){
						Box.removeChild(Box_child[i])
					}
				}
			}
			for(var i = 0;i<Box_child.length;i++){
				switch(Box_child[i].nodeName) {
					case 'P':
					var sibling_p = Box_child[i];
						break;
					case 'IMG':
					var sibling_Img = Box_child[i];
						break;
					case 'H3':
					var sibling_H3 = Box_child[i];
						break;
					case 'A':
				}
			}
			Sibling_A[1].onclick = function(){
				var Img_src = sibling_Img.getAttribute('src');
				var n = arry_src.indexOf(Img_src);
				n++;
				if(n>=arry_src.length&&star){
					n = 0;
				}else if(n>=arry_src.length){
					n = arry_src.length - 1;
					alert('已经到最后一张了')
				}
				sibling_p.innerHTML = Text_P[n];
				sibling_Img.setAttribute('src',arry_src[n]);
				sibling_H3.innerHTML = Text_h3[n];
			}
			Sibling_A[0].onclick = function(){
				var Img_src = sibling_Img.getAttribute('src');
				var n = arry_src.indexOf(Img_src);
				n--;
				if(n<0&&star){
					n = arry_src.length - 1;
				}else if(n<0){
					alert('已经到第一张了')
					n = 0;
				}
				sibling_p.innerHTML = Text_P[n];
				sibling_Img.setAttribute('src',arry_src[n]);
				sibling_H3.innerHTML = Text_h3[n];

			}
			// alter()
			// function alter(){
				
			// }
			function btn_showHidden(property){
				Sibling_A[0].style.display = property;
				Sibling_A[1].style.display = property;
			}
		}
	</script>
</head>
<body>
	<div class="main">
		<button>循环播放</button>
		<button>顺序播放</button>
		<p>图片循环和不循环</p>
		<div class="box" id="box">
			<p>1/4</p>
			<img src="2.jpg">
			<h3>11111111</h3>
			<a href="javscript:;" property="last"><</a>
			<a href="javscript:;" property="next">></a>
		</div>
	</div>
</body>
</html>